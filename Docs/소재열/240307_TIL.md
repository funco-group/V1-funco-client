
## 회의 사항

1. 게시판 기능 삭제
2. 알림 기능 추가
3. 도메인 별로 역할 분담 및 코드 작성
    1. 구현 사항이 큰 도메인은 여럿이 담당하고 그 안에서 역할 분담
        1. 함께 해결하고 공유하기
4. 오후에 할 일
    1. 해야할 일 2가지
        1. 현직자 멘토링 질문
        2. 교보재 신청
    2. 기능 명세 및 와이어프레임 재작성
    3. ERD 작성 시작
    4. 피그마 회의


## 따라가기 기능 정의

# 따라가기 정책

## 따라가기 기능이란?

- [빙의] 본인의 일정 금액을 **다른 사람에게 투자한다.**

## 기능 상세

- **수수료** : 투자 종료 시 **수익의 3%**
    - 수익이 없거나 잃었으면 **없음**
- 수익→ 재산은 투자 종료 후 **정산이 되어야 랭킹에 반영** 됨

### 투자자 ( 자식 )

- 일정 금액을 빙의로 투자하면 그 금액은 사용할 수 없다.
    - 돈이 묶여있다.
- 투자 금액에 부모의 포트폴리오, 거래가 적용되고, 실시간으로 투자금액의 운용 내역을 확인할 수 있다.
- 유저는 **투자 종료**를 눌러서 투자 결과를 정산 받을 수 있다.
- 투자 종료 시에만, 종료 시점에 자산을 모두 매각한 원 **정산 결과**를 환급받을 수 있다.
- 투자 종료 전, 금액 변경 불가

### 투자 받는 자 ( 부모 )

- 투자를 종료한 사람의 가져간 수익의 일부를 수수료로 정산받는다.
- 본인에게 투자중인 **투자자 리스트**를 볼 수 있다.
    - 현재 투자중인 투자자만 필터링 해 볼 수 있다.
    - 정렬 기능은 제공하면 좋을 것 같음, 투자날짜 기준?
    - 투자날짜, 투자종료날짜 ( 없으면 투자 중 ), 투자금액, 수익률, 얻은 수수료 ( 수익의 3% )

## 기준

- 어떤 기준으로 투자한 금액이 쓰여지는가, 변동되는가? 프로세스
    1. 투자한 시점에서 부모 소유의 총 금액에서 **비율**을 계산하여 부모가 보유중인 코인 자산이 구매됨, **현금 비율 포함.**
    2. 코인 매도 시 그 코인의 판 비율만큼 동일한 비율로 판매 됨
    - ** 산 시점이 다르기 때문에 부모의 수익률과 근본적으로 일치 할 순 없음!
    하지만 자산 중 코인과 현금의 비율은 처음에만 싱크를 맞추게 됨
    - *빙의 시점에 갖고 있는 자산과 현금 비율로 구매
    *부모가 추가 구매한다면 현금 비율에서 몇 프로를 사용했냐가 따라하는 기준
    *부모가 코인을 판다면 그 코인에서 몇 퍼센트를 팔았냐가 따라하는 기준

## 문제

### 1. 순환참조문제

- 부모가 직접 산 거래만 적용 ⇒ 비율로 적용

### 2. 다른 곳( 수수료, 빙의 )에서 얻은 수익

- 현금 비율이 늘어나서 전체적인 비율이 바뀌게 되는 문제
    - 이 비율까지 실시간으로 반영해 줄 수 없다.
- 사고 파는 **비율만** 자식에게 전달되게 구현
    - 사고 파는 비율의 의미 :  거래가 일어난 양 / 전체 현금(샀을 때) 혹은 해당 코인(팔았을 때)

### 3. 랭킹에 어떻게 반영할 것인지?

- 랭킹은 초기 자산 (ex. 1000만원 ) 기준 현재 자산 비율 → 수익률
    - (현재 자산 - 1000만원) / 1000만원 * 100%
- 따라하기 **투자 중**인 수익은 랭킹에 즉시 반영되지 않고 
투자 **종료 후**에 총액이 자산이 증액되어 반영됨
    - 따라하기 중인 돈은 일단 묶여있음
        - 현금 그 자체
        - 손실을 보거나 수익을 확정하기 전까지는 그냥 현금
- 수익률, 총자산
